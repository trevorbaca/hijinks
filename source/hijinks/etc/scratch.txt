# d2 from d1.20, [8, 11, 12, 14, 16, 17, 18, 19, 21, 22, 25, 27]
#checkevery(d1[20 - 1])
#checking constellation about threepartition number 143
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 32 [[4, 7, 15], [20, 23, 29], [24, 26, 34], [30, 33, 37]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 39 [[4, 7, 15], [20, 23, 30], [24, 26, 34], [29, 33, 37]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 44 [[4, 7, 15], [20, 23, 33], [24, 26, 34], [29, 30, 37]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 49 [[4, 7, 15], [20, 23, 37], [24, 26, 34], [29, 30, 33]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 121 [[4, 7, 15], [20, 23, 29], [30, 33, 37], [24, 26, 34]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 125 [[4, 7, 15], [20, 23, 30], [29, 33, 37], [24, 26, 34]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 128 [[4, 7, 15], [20, 23, 33], [29, 30, 37], [24, 26, 34]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 130 [[4, 7, 15], [20, 23, 37], [29, 30, 33], [24, 26, 34]]
#checking constellation about threepartition number 178
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 32 [[4, 7, 15], [20, 23, 29], [24, 26, 34], [30, 33, 37]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 39 [[4, 7, 15], [20, 23, 30], [24, 26, 34], [29, 33, 37]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 44 [[4, 7, 15], [20, 23, 33], [24, 26, 34], [29, 30, 37]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 49 [[4, 7, 15], [20, 23, 37], [24, 26, 34], [29, 30, 33]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 121 [[4, 7, 15], [20, 23, 29], [30, 33, 37], [24, 26, 34]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 125 [[4, 7, 15], [20, 23, 30], [29, 33, 37], [24, 26, 34]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 128 [[4, 7, 15], [20, 23, 33], [29, 30, 37], [24, 26, 34]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 130 [[4, 7, 15], [20, 23, 37], [29, 30, 33], [24, 26, 34]]
#checking constellation about threepartition number 183
#8 [4, 7, 8, 11, 12, 14, 15, 17, 22, 30, 33, 37] 200 [[4, 7, 8], [11, 15, 17], [12, 14, 22], [30, 33, 37]]
#31 [4, 7, 15, 18, 20, 21, 23, 24, 25, 26, 29, 34] 159 [[4, 7, 15], [18, 21, 25], [20, 23, 29], [24, 26, 34]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 32 [[4, 7, 15], [20, 23, 29], [24, 26, 34], [30, 33, 37]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 39 [[4, 7, 15], [20, 23, 30], [24, 26, 34], [29, 33, 37]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 44 [[4, 7, 15], [20, 23, 33], [24, 26, 34], [29, 30, 37]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 49 [[4, 7, 15], [20, 23, 37], [24, 26, 34], [29, 30, 33]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 121 [[4, 7, 15], [20, 23, 29], [30, 33, 37], [24, 26, 34]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 125 [[4, 7, 15], [20, 23, 30], [29, 33, 37], [24, 26, 34]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 128 [[4, 7, 15], [20, 23, 33], [29, 30, 37], [24, 26, 34]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 130 [[4, 7, 15], [20, 23, 37], [29, 30, 33], [24, 26, 34]]
#33 [6, 9, 13, 16, 19, 20, 23, 24, 26, 27, 29, 34] 7 [[6, 9, 13], [16, 19, 20], [23, 27, 29], [24, 26, 34]]
#33 [6, 9, 13, 16, 19, 20, 23, 24, 26, 27, 29, 34] 12 [[6, 9, 13], [16, 19, 20], [24, 26, 34], [23, 27, 29]]
#33 [6, 9, 13, 16, 19, 20, 23, 24, 26, 27, 29, 34] 27 [[6, 9, 13], [16, 19, 23], [20, 27, 29], [24, 26, 34]]
#33 [6, 9, 13, 16, 19, 20, 23, 24, 26, 27, 29, 34] 44 [[6, 9, 13], [16, 19, 27], [20, 23, 29], [24, 26, 34]]
#33 [6, 9, 13, 16, 19, 20, 23, 24, 26, 27, 29, 34] 46 [[6, 9, 13], [16, 19, 29], [20, 23, 27], [24, 26, 34]]
#33 [6, 9, 13, 16, 19, 20, 23, 24, 26, 27, 29, 34] 82 [[6, 9, 13], [16, 19, 23], [24, 26, 34], [20, 27, 29]]
#33 [6, 9, 13, 16, 19, 20, 23, 24, 26, 27, 29, 34] 128 [[6, 9, 13], [16, 19, 27], [24, 26, 34], [20, 23, 29]]
#33 [6, 9, 13, 16, 19, 20, 23, 24, 26, 27, 29, 34] 131 [[6, 9, 13], [16, 19, 29], [24, 26, 34], [20, 23, 27]]
#33 [6, 9, 13, 16, 19, 20, 23, 24, 26, 27, 29, 34] 147 [[6, 9, 13], [16, 20, 23], [19, 27, 29], [24, 26, 34]]
#33 [6, 9, 13, 16, 19, 20, 23, 24, 26, 27, 29, 34] 164 [[6, 9, 13], [16, 20, 27], [19, 23, 29], [24, 26, 34]]
#33 [6, 9, 13, 16, 19, 20, 23, 24, 26, 27, 29, 34] 166 [[6, 9, 13], [16, 20, 29], [19, 23, 27], [24, 26, 34]]
#checking constellation about threepartition number 186
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 32 [[4, 7, 15], [20, 23, 29], [24, 26, 34], [30, 33, 37]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 39 [[4, 7, 15], [20, 23, 30], [24, 26, 34], [29, 33, 37]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 44 [[4, 7, 15], [20, 23, 33], [24, 26, 34], [29, 30, 37]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 49 [[4, 7, 15], [20, 23, 37], [24, 26, 34], [29, 30, 33]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 121 [[4, 7, 15], [20, 23, 29], [30, 33, 37], [24, 26, 34]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 125 [[4, 7, 15], [20, 23, 30], [29, 33, 37], [24, 26, 34]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 128 [[4, 7, 15], [20, 23, 33], [29, 30, 37], [24, 26, 34]]
#32 [4, 7, 15, 20, 23, 24, 26, 29, 30, 33, 34, 37] 130 [[4, 7, 15], [20, 23, 37], [29, 30, 33], [24, 26, 34]]

perms = [line.strip() for line in file('perms.out').readlines()]

def threepartition(pset):
    result = []
    for perm in perms:
        new = [[], [], [], []]
        for i, digit in enumerate(perm):
            new[int(digit) - 1].append(pset[i])
        result.append(new)
    return result
    
# find out if the constellation of ANY partition of ANY chord in cons contains d1[12 - 1]
def checkconstellation(cons):
    for i, ch in enumerate(cons):
        for j, p in enumerate(threepartition(ch)):
            if d1[12 - 1] in constellate(p, [0, 37]):
                print i, ch, j, p
    
# takes long time
def checkevery(ch):
    for i, tp in enumerate(threepartition(ch)):
        print 'checking constellation about threepartition number %s' % i
        checkconstellation(constellate(tp, [0, 37]))
    print 'done with checkevery.'
